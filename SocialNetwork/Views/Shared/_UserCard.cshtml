@model Elomoas.Application.Features.AppUsers.Query.AppUserDto

<div class="card mb-4 d-block w-100 shadow-xss rounded-lg p-4 border-0 text-center user-card">
    <a asp-controller="Users" asp-action="UserPage" asp-route-id="@Model.Id" class="ml-auto mr-auto rounded-lg overflow-hidden d-inline-block user-image">
        <img src="@Model.Img" alt="icon" class="p-0 w100 shadow-xss">
    </a>
    <h4 class="fw-700 font-xs mt-3 mb-1">
        @Model.Name
        @if (Model.IsFriend)
        {
            <i class="feather-user-check text-success ml-1" data-toggle="tooltip" title="Friend"></i>
        }
    </h4>
    <p class="fw-600 font-xssss text-grey-500 mt-0 mb-2">@Model.Email</p>
    <div class="clearfix"></div>
    <div class="d-flex justify-content-center friend-actions">
        <a asp-controller="Users" asp-action="UserPage" asp-route-id="@Model.Id" 
           class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-current font-xsssss fw-700 ls-lg text-white btn-profile">PROFILE</a>
        
        @if (Model.IsFriend)
        {
            <a href="#" class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-danger font-xsssss fw-700 ls-lg text-white btn-profile remove-friend-btn" data-user-id="@Model.IdentityId">
                <i class="feather-user-minus mr-1"></i> REMOVE FRIEND
            </a>
        }
        else if (Model.FriendshipStatus == Elomoas.Domain.Entities.Enums.FriendshipStatus.Pending)
        {
            if (Model.IsSentByMe)
            {
                <a href="#" class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-warning font-xsssss fw-700 ls-lg text-white btn-profile">
                    <i class="feather-clock mr-1"></i> PENDING
                </a>
            }
            else
            {
                <div class="d-flex">
                    <a href="#" class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-success font-xsssss fw-700 ls-lg text-white btn-profile accept-friend-btn" data-user-id="@Model.IdentityId">
                        <i class="feather-check mr-1"></i> ACCEPT
                    </a>
                    <a href="#" class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-danger font-xsssss fw-700 ls-lg text-white btn-profile reject-friend-btn" data-user-id="@Model.IdentityId">
                        <i class="feather-x mr-1"></i> REJECT
                    </a>
                </div>
            }
        }
        else
        {
            <a href="#" class="mt-3 p-0 btn p-2 lh-24 w100 ml-1 ls-3 d-inline-block rounded-xl bg-current font-xsssss fw-700 ls-lg text-white btn-profile add-friend-btn" data-user-id="@Model.IdentityId">
                <i class="feather-user-plus mr-1"></i> ADD FRIEND
            </a>
        }
    </div>
</div> 