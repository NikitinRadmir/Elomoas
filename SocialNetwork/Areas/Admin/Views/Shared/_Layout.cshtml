@using Elomoas.Application.Interfaces.Services
@using Elomoas.Domain.Entities
@using MediatR
@using Elomoas.Application.Features.AppUsers.Query.GetCurrentUser
@inject IMediator Mediator

<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Admiro admin is super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Admiro admin template, best javascript admin, dashboard template, bootstrap admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <title>@ViewData["Title"] - Admin Panel</title>
    <!-- Favicon icon-->
    <link rel="icon" href="~/assets/images/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="~/assets/images/favicon.png" type="image/x-icon">
    <!-- Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,200;6..12,300;6..12,400;6..12,500;6..12,600;6..12,700;6..12,800;6..12,900;6..12,1000&amp;display=swap" rel="stylesheet">
    <!-- Flag icon css -->
    <link rel="stylesheet" href="~/assets/css/vendors/flag-icon.css">
    <!-- Feather icon-->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- iconly-icon-->
    <link rel="stylesheet" href="~/assets/css/iconly-icon.css">
    <link rel="stylesheet" href="~/assets/css/bulk-style.css">
    <!-- iconly-icon-->
    <link rel="stylesheet" href="~/assets/css/themify.css">
    <!--fontawesome-->
    <link rel="stylesheet" href="~/assets/css/fontawesome-min.css">
    <!-- Whether Icon css-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/weather-icons/weather-icons.min.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/dropzone.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/scrollbar.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick-theme.css">
    <!-- App css -->
    <link id="color" rel="stylesheet" href="~/assets/css/color-1.css" media="screen">
    <link rel="stylesheet" href="~/assets/css/style.css">
</head>
<body>
    <!-- page-wrapper Start-->
    <!-- tap on top starts-->
    <div class="tap-top"><i data-feather="arrow-up"></i></div>
    <!-- tap on tap ends-->
    <!-- loader-->
    <div class="loader-wrapper">
        <div class="loader"><span></span><span></span><span></span><span></span><span></span></div>
    </div>
    <div class="page-wrapper compact-wrapper" id="pageWrapper">
        <header class="page-header row">
            <div class="logo-wrapper d-flex align-items-center col-auto">
                <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index"><img class="light-logo img-fluid" src="~/assets/images/logo/logo1.png" alt="logo"><img class="dark-logo img-fluid" src="~/assets/images/logo/logo-dark.png" alt="logo"></a><a class="close-btn toggle-sidebar" href="javascript:void(0)">
                    <i data-feather="menu"></i>
                </a>
            </div>
            <div class="page-main-header col">
                <div class="header-left">
                    
                        <div class="form-group w-100">
                            
                        </div>
                    
                    <div class="form-group-header d-lg-block d-none">
                        
                    </div>
                </div>
                <div class="nav-right">
                    <ul class="header-right">
                        <li class="custom-dropdown">
                            <div class="translate_wrapper">
                                
                            </div>
                        </li>
                        
                        <li class="custom-dropdown">
                            
                        </li>
                        <li>
                            
                        </li>
                        
                        <li class="cloud-design">
                           
                        </li>
                        <li class="profile-nav custom-dropdown">
                            <div class="user-wrap">
                                <div class="user-img">
                                    @{
                                        var currentUser = User.Identity.IsAuthenticated 
                                            ? await Mediator.Send(new GetCurrentUserQuery()) 
                                            : null;
                                        var userImage = currentUser?.Img ?? "/assets/images/profile.png";
                                    }
                                    <img src="@userImage" alt="user">
                                </div>
                                <div class="user-content">
                                    <h6>@(currentUser?.Email ?? "Guest")</h6>
                                    <p class="mb-0">Admin</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <!-- Page Body Start-->
        <div class="page-body-wrapper">
            <!-- Page sidebar start-->
            <aside class="page-sidebar">
                <div class="left-arrow" id="left-arrow"><i data-feather="arrow-left"></i></div>
                <div class="main-sidebar" id="main-sidebar">
                    <ul class="sidebar-menu" id="simple-bar">
                        
                        <li class="sidebar-main-title">
                            <div>
                                <h5 class="lan-1 f-w-700 sidebar-title">Dashboards</h5>
                            </div>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" asp-area="Admin" asp-controller="AppUsers" asp-action="Index">
                                <i data-feather="users"></i>
                                <h6>AppUsers</h6>
                            </a>
                        </li>
                                                <li class="sidebar-list">
                            <a class="sidebar-link" asp-area="Admin" asp-controller="Courses" asp-action="Index">
                                <i data-feather="book-open"></i>
                                <h6>Courses</h6>
                            </a>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" asp-area="Admin" asp-controller="CourseSubscriptions" asp-action="Index">
                                <i data-feather="bookmark"></i>
                                <h6>CourseSubscriptions</h6>
                            </a>
                        </li>
                        
                        <li class="sidebar-list">
                            <a class="sidebar-link" asp-area="Admin" asp-controller="Groups" asp-action="Index">
                                <i data-feather="users"></i>
                                <h6>Groups</h6>
                            </a>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" asp-area="Admin" asp-controller="GroupSubscriptions" asp-action="Index">
                                <i data-feather="bookmark"></i>
                                <h6>GroupSubscriptions</h6>
                            </a>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" href="javascript:void(0)">
                                <i data-feather="user-plus"></i>
                                <h6>Friendship</h6>
                            </a>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" href="javascript:void(0)">
                                <i data-feather="message-square"></i>
                                <h6>Chats</h6>
                            </a>
                        </li>
                        <li class="sidebar-list">
                            <a class="sidebar-link" href="javascript:void(0)">
                                <i data-feather="message-circle"></i>
                                <h6>Messages</h6>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="right-arrow" id="right-arrow"><i data-feather="arrow-right"></i></div>
            </aside>
            <!-- Main Content -->
            <div class="page-body">
                @RenderBody()
            </div>
            
        </div>
    </div>
    <!-- jquery-->
    <script src="~/assets/js/vendors/jquery/jquery.min.js"></script>
    <!-- bootstrap js-->
    <script src="~/assets/js/vendors/bootstrap/dist/js/bootstrap.bundle.min.js" defer=""></script>
    <script src="~/assets/js/vendors/bootstrap/dist/js/popper.min.js" defer=""></script>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ+Wwk9Ck0G81D+eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- sidebar -->
    <script src="~/assets/js/sidebar.js"></script>
    <!-- dropzone-->
    <script src="~/assets/js/dropzone/dropzone.js"></script>
    <script src="~/assets/js/dropzone/dropzone-script.js"></script>
    <!-- scrollbar-->
    <script src="~/assets/js/scrollbar/simplebar.js"></script>
    <script src="~/assets/js/scrollbar/custom.js"></script>
    <!-- slick-->
    <script src="~/assets/js/slick/slick.min.js"></script>
    <script src="~/assets/js/slick/slick.js"></script>
    <!-- theme_customizer-->
    <script src="~/assets/js/theme-customizer/customizer.js"></script>
    <!-- custom script -->
    <script src="~/assets/js/script.js"></script>
    <!-- jQuery Validation -->
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        // Initialize Feather Icons
        feather.replace();
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>